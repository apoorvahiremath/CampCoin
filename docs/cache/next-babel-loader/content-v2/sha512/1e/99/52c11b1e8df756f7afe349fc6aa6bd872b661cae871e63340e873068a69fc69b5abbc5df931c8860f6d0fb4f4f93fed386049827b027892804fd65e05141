{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Component } from 'react';\nimport factory from '../ethereum/factory';\nimport { Card, Button, Icon } from 'semantic-ui-react';\nimport Layout from '../components/layout';\nimport { Link } from '../routes';\n\nclass CampaignIndex extends Component {\n  // This method works for nextjs for initial data loading. Its a static method.\n  static async getInitialProps() {\n    const campaigns = await factory.methods.getDeployedCampaign().call();\n    return {\n      campaigns\n    };\n  } // This method Works for create-react-app project for initial data loading\n  // async componentDidMount(){}\n\n\n  renderCampaigns() {\n    const items = this.props.campaigns.map(address => {\n      return {\n        header: address,\n        description: /*#__PURE__*/_jsx(Link, {\n          route: `/campaigns/${address}`,\n          children: /*#__PURE__*/_jsxs(\"a\", {\n            children: [/*#__PURE__*/_jsx(Icon, {\n              circular: true,\n              color: \"blue\",\n              name: \"sign-in\"\n            }), \"View Campaign\"]\n          })\n        }),\n        fluid: true\n      };\n    });\n    return /*#__PURE__*/_jsx(Card.Group, {\n      items: items\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsx(Layout, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: \"Campaigns\"\n        }), /*#__PURE__*/_jsx(Link, {\n          route: \"/campaigns/new\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: /*#__PURE__*/_jsx(Button, {\n              floated: \"right\",\n              content: \"Create Campaign\",\n              icon: \"add circle\",\n              labelPosition: \"left\",\n              primary: true\n            })\n          })\n        }), this.renderCampaigns()]\n      })\n    });\n  }\n\n}\n\nexport default CampaignIndex;","map":null,"metadata":{},"sourceType":"module"}