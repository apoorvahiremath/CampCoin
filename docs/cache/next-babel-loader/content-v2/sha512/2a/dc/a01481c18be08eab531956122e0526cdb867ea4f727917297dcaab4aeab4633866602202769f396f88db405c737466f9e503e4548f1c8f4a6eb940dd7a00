{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Component } from 'react';\nimport Layout from '../../components/layout';\nimport Campaign from '../../ethereum/campaign';\nimport { Card, Grid, Button, Icon } from 'semantic-ui-react';\nimport web3 from '../../ethereum/web3';\nimport ContributeForm from '../../components/contributeForm';\nimport { Link } from '../../routes';\n\nclass CampaignShow extends Component {\n  static async getInitialProps(props) {\n    const campaign = Campaign(props.query.address);\n    const summary = await campaign.methods.getSummary().call();\n    console.log(summary);\n    return {\n      address: props.query.address,\n      minimumContribution: summary[0],\n      balance: summary[1],\n      requestsCount: summary[2],\n      approversCount: summary[3],\n      manager: summary[4]\n    };\n  }\n\n  renderCards() {\n    const {\n      balance,\n      manager,\n      minimumContribution,\n      requestsCount,\n      approversCount\n    } = this.props;\n    const items = [{\n      header: manager,\n      meta: 'Address of Manager',\n      description: 'The manager created this campaign and can create requests to withdraw money',\n      style: {\n        overflowWrap: 'break-word'\n      }\n    }, {\n      header: minimumContribution,\n      meta: 'Minimum Contribution (wei)',\n      description: 'You must contribute at least this much wei to become an approver'\n    }, {\n      header: requestsCount,\n      meta: 'Number of Requests',\n      description: 'A request tries to withdraw money from the contract. Requests must be approved by approvers'\n    }, {\n      header: approversCount,\n      meta: 'Number of Approvers',\n      description: 'Number of people who have already donated to this campaign'\n    }, {\n      header: web3.utils.fromWei(balance, 'ether'),\n      meta: 'Campaign Balance (ether)',\n      description: 'The balance is how much money this campaign has left to spend.'\n    }];\n    return /*#__PURE__*/_jsx(Card.Group, {\n      items: items\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(Layout, {\n      children: [/*#__PURE__*/_jsx(Link, {\n        route: `/`,\n        children: /*#__PURE__*/_jsxs(\"a\", {\n          children: [/*#__PURE__*/_jsx(Icon, {\n            circular: true,\n            color: \"blue\",\n            name: \"arrow left\"\n          }), \"Back\"]\n        })\n      }), /*#__PURE__*/_jsx(\"h3\", {\n        children: \"Campaign Show\"\n      }), /*#__PURE__*/_jsxs(Grid, {\n        children: [/*#__PURE__*/_jsx(Grid.Row, {\n          children: /*#__PURE__*/_jsx(Grid.Column, {\n            children: this.renderCards()\n          })\n        }), /*#__PURE__*/_jsxs(Grid.Row, {\n          children: [/*#__PURE__*/_jsx(Grid.Column, {\n            width: 6,\n            children: /*#__PURE__*/_jsx(ContributeForm, {\n              address: this.props.address\n            })\n          }), /*#__PURE__*/_jsx(Grid.Column, {\n            width: 4\n          }), /*#__PURE__*/_jsx(Grid.Column, {\n            width: 6,\n            children: /*#__PURE__*/_jsx(Link, {\n              route: `/campaigns/${this.props.address}/requests`,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsx(Button, {\n                  primary: true,\n                  children: \"View Requests\"\n                })\n              })\n            })\n          })]\n        })]\n      })]\n    });\n  }\n\n}\n\nexport default CampaignShow;","map":null,"metadata":{},"sourceType":"module"}