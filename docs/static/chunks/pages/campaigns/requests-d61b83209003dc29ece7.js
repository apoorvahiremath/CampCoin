_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{CafY:function(e,t,n){"use strict";var a=n("nKUr"),r=(n("q1tI"),n("ZHh6")),c=n("aIN1"),i=n("yE/o");n("xMo/");t.a=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(r.a,{}),Object(a.jsx)(i.a,{children:e.children}),Object(a.jsx)(c.a,{})]})}},Mybo:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),c=n("HaE+"),i=n("nKUr"),s=n("1OyB"),l=n("vuIU"),o=n("Ji7U"),u=n("md7G"),p=n("foSv"),d=n("q1tI"),b=n.n(d),j=n("CafY"),O=n("wx14"),f=n("zmn3"),y=n("iuhU"),m=(n("17x9"),n("ZeOK")),h=n("ICNK"),v=n("Y53p"),g=n("H+2d");function x(e){var t=e.children,n=e.className,a=Object(y.a)(n),r=Object(h.a)(x,e),c=Object(v.a)(x,e);return b.a.createElement(c,Object(O.a)({},r,{className:a}),t)}x.handledProps=["as","children","className"],x.defaultProps={as:"tbody"},x.propTypes={};var w=x,R=n("MZgk"),T=n("D1pA");function N(e){var t=e.active,n=e.children,a=e.className,r=e.collapsing,c=e.content,i=e.disabled,s=e.error,l=e.icon,o=e.negative,u=e.positive,p=e.selectable,d=e.singleLine,j=e.textAlign,f=e.verticalAlign,x=e.warning,w=e.width,R=Object(y.a)(Object(m.a)(t,"active"),Object(m.a)(r,"collapsing"),Object(m.a)(i,"disabled"),Object(m.a)(s,"error"),Object(m.a)(o,"negative"),Object(m.a)(u,"positive"),Object(m.a)(p,"selectable"),Object(m.a)(d,"single line"),Object(m.a)(x,"warning"),Object(m.d)(j),Object(m.f)(f),Object(m.g)(w,"wide"),a),C=Object(h.a)(N,e),A=Object(v.a)(N,e);return g.a.isNil(n)?b.a.createElement(A,Object(O.a)({},C,{className:R}),T.a.create(l),c):b.a.createElement(A,Object(O.a)({},C,{className:R}),n)}N.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],N.defaultProps={as:"td"},N.propTypes={},N.create=Object(R.e)(N,(function(e){return{content:e}}));var C=N;function A(e){var t=e.children,n=e.className,a=e.content,r=e.fullWidth,c=Object(y.a)(Object(m.a)(r,"full-width"),n),i=Object(h.a)(A,e),s=Object(v.a)(A,e);return b.a.createElement(s,Object(O.a)({},i,{className:c}),g.a.isNil(t)?a:t)}A.handledProps=["as","children","className","content","fullWidth"],A.defaultProps={as:"thead"},A.propTypes={};var P=A;function q(e){var t=e.as,n=Object(h.a)(q,e);return b.a.createElement(P,Object(O.a)({},n,{as:t}))}q.handledProps=["as"],q.propTypes={},q.defaultProps={as:"tfoot"};var k=q;function E(e){var t=e.as,n=e.className,a=e.sorted,r=Object(y.a)(Object(m.e)(a,"sorted"),n),c=Object(h.a)(E,e);return b.a.createElement(C,Object(O.a)({},c,{as:t,className:r}))}E.handledProps=["as","className","sorted"],E.propTypes={},E.defaultProps={as:"th"};var M=E;function _(e){var t=e.active,n=e.cellAs,a=e.cells,r=e.children,c=e.className,i=e.disabled,s=e.error,l=e.negative,o=e.positive,u=e.textAlign,p=e.verticalAlign,d=e.warning,j=Object(y.a)(Object(m.a)(t,"active"),Object(m.a)(i,"disabled"),Object(m.a)(s,"error"),Object(m.a)(l,"negative"),Object(m.a)(o,"positive"),Object(m.a)(d,"warning"),Object(m.d)(u),Object(m.f)(p),c),x=Object(h.a)(_,e),w=Object(v.a)(_,e);return g.a.isNil(r)?b.a.createElement(w,Object(O.a)({},x,{className:j}),Object(f.a)(a,(function(e){return C.create(e,{defaultProps:{as:n}})}))):b.a.createElement(w,Object(O.a)({},x,{className:j}),r)}_.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],_.defaultProps={as:"tr",cellAs:"td"},_.propTypes={},_.create=Object(R.e)(_,(function(e){return{cells:e}}));var B=_;function z(e){var t=e.attached,n=e.basic,a=e.celled,r=e.children,c=e.className,i=e.collapsing,s=e.color,l=e.columns,o=e.compact,u=e.definition,p=e.fixed,d=e.footerRow,j=e.headerRow,x=e.headerRows,R=e.inverted,T=e.padded,N=e.renderBodyRow,C=e.selectable,A=e.singleLine,q=e.size,E=e.sortable,M=e.stackable,_=e.striped,D=e.structured,H=e.tableData,I=e.textAlign,L=e.unstackable,F=e.verticalAlign,U=Object(y.a)("ui",s,q,Object(m.a)(a,"celled"),Object(m.a)(i,"collapsing"),Object(m.a)(u,"definition"),Object(m.a)(p,"fixed"),Object(m.a)(R,"inverted"),Object(m.a)(C,"selectable"),Object(m.a)(A,"single line"),Object(m.a)(E,"sortable"),Object(m.a)(M,"stackable"),Object(m.a)(_,"striped"),Object(m.a)(D,"structured"),Object(m.a)(L,"unstackable"),Object(m.b)(t,"attached"),Object(m.b)(n,"basic"),Object(m.b)(o,"compact"),Object(m.b)(T,"padded"),Object(m.d)(I),Object(m.f)(F),Object(m.g)(l,"column"),"table",c),Z=Object(h.a)(z,e),J=Object(v.a)(z,e);if(!g.a.isNil(r))return b.a.createElement(J,Object(O.a)({},Z,{className:U}),r);var K={defaultProps:{cellAs:"th"}},S=(j||x)&&b.a.createElement(P,null,B.create(j,K),Object(f.a)(x,(function(e){return B.create(e,K)})));return b.a.createElement(J,Object(O.a)({},Z,{className:U}),S,b.a.createElement(w,null,N&&Object(f.a)(H,(function(e,t){return B.create(N(e,t))}))),d&&b.a.createElement(k,null,B.create(d)))}z.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],z.defaultProps={as:"table"},z.propTypes={},z.Body=w,z.Cell=C,z.Footer=k,z.Header=P,z.HeaderCell=M,z.Row=B;var D=z,H=n("QetY"),I=n("8cHP"),L=n("VC3L"),F=n("JX7q"),U=n("rePB"),Z=n("oZBQ");function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var K=function(e){Object(o.a)(n,e);var t=J(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),Object(U.a)(Object(F.a)(e),"onApprove",Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(L.a)(e.props.address),t.next=3,Z.a.eth.getAccounts();case 3:return a=t.sent,t.next=6,n.methods.approveRequest(e.props.id).send({from:a[0]});case 6:case"end":return t.stop()}}),t)})))),Object(U.a)(Object(F.a)(e),"onFinalize",Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(L.a)(e.props.address),t.next=3,Z.a.eth.getAccounts();case 3:return a=t.sent,t.next=6,n.methods.finalizeRequest(e.props.id).send({from:a[0]});case 6:case"end":return t.stop()}}),t)})))),e}return Object(l.a)(n,[{key:"render",value:function(){var e=D.Cell,t=D.Row,n=this.props,a=n.id,r=n.request,c=n.approversCount,s=r.approvalCounts>c/2;return Object(i.jsxs)(t,{disabled:r.complete,positive:s&&!r.complete,children:[Object(i.jsx)(e,{children:a}),Object(i.jsx)(e,{children:r.description}),Object(i.jsx)(e,{children:Z.a.utils.fromWei(r.value,"ether")}),Object(i.jsx)(e,{children:r.recipient}),Object(i.jsxs)(e,{children:[r.approvalCounts,"/",c]}),Object(i.jsx)(e,{children:r.complete?null:Object(i.jsx)(H.a,{color:"green",basic:!0,onClick:this.onApprove,children:"Approve"})}),Object(i.jsx)(e,{children:r.complete?null:Object(i.jsx)(H.a,{color:"teal",basic:!0,onClick:this.onFinalize,children:"Finalize"})})]})}}]),n}(d.Component);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Y=function(e){Object(o.a)(n,e);var t=S(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderRow",value:function(){var e=this;return this.props.requests.map((function(t,n){return Object(i.jsx)(K,{request:t,id:n,address:e.props.address,approversCount:e.props.approversCount},n)}))}},{key:"render",value:function(){var e=D.Header,t=D.Row,n=D.HeaderCell,a=D.Body;return Object(i.jsxs)(j.a,{children:[Object(i.jsx)(I.Link,{route:"/campaigns/".concat(this.props.address),children:Object(i.jsxs)("a",{children:[Object(i.jsx)(T.a,{circular:!0,color:"blue",name:"arrow left"})," Back"]})}),Object(i.jsx)("h3",{children:"Requests"}),Object(i.jsx)(I.Link,{route:"/campaigns/".concat(this.props.address,"/requests/new"),children:Object(i.jsx)("a",{children:Object(i.jsx)(H.a,{primary:!0,floated:"right",style:{marginBottom:10},children:"Add Request"})})}),Object(i.jsxs)(D,{color:"blue",children:[Object(i.jsx)(e,{children:Object(i.jsxs)(t,{children:[Object(i.jsx)(n,{children:"ID"}),Object(i.jsx)(n,{children:"Description"}),Object(i.jsx)(n,{children:"Amount"}),Object(i.jsx)(n,{children:"Receipient"}),Object(i.jsx)(n,{children:"Approval Count"}),Object(i.jsx)(n,{children:"Approve"}),Object(i.jsx)(n,{children:"Finalize"})]})}),Object(i.jsx)(a,{children:this.renderRow()})]},"blue"),Object(i.jsxs)("div",{children:["Found ",this.props.requestCount," requests."]})]})}}],[{key:"getInitialProps",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.address,a=Object(L.a)(n),e.next=4,a.methods.getRequestCount().call();case 4:return c=e.sent,e.next=7,a.methods.approversCount().call();case 7:return i=e.sent,e.next=10,Promise.all(Array(parseInt(c)).fill().map((function(e,t){return a.methods.requests(t).call()})));case 10:return s=e.sent,console.log("requests",s,c),e.abrupt("return",{address:n,requests:s,requestCount:c,approversCount:i});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(d.Component);t.default=Y},VC3L:function(e,t,n){"use strict";var a=n("oZBQ"),r=[{inputs:[{internalType:"uint256",name:"minimum",type:"uint256"},{internalType:"address",name:"creator",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"approveRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"approvers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"approversCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"contribute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],name:"createRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"finalizeRequest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRequestCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSummary",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"minimumContribution",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"requests",outputs:[{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"},{internalType:"bool",name:"complete",type:"bool"},{internalType:"uint256",name:"approvalCounts",type:"uint256"}],stateMutability:"view",type:"function"}];t.a=function(e){return new a.a.eth.Contract(r,e)}},"m/hO":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/requests",function(){return n("Mybo")}])},rePB:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))}},[["m/hO",0,2,4,1,3]]]);